"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9519],{9519:(w,d,l)=>{l.r(d),l.d(d,{LoginPageModule:()=>E});var u=l(177),r=l(4341),i=l(4742),c=l(5260),h=l(467),o=l(4438),p=l(4796);let C=(()=>{var e;class a{constructor(n,t,g){this.modalCtrl=n,this.fb=t,this.authService=g,this.registerForm=this.fb.group({name:["",r.k0.required],email:["",[r.k0.required,r.k0.email]],confirmEmail:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required,r.k0.minLength(6)]],confirmPassword:["",[r.k0.required]]},{validators:this.checkPasswords})}checkPasswords(n){var t,g;return(null===(t=n.get("password"))||void 0===t?void 0:t.value)===(null===(g=n.get("confirmPassword"))||void 0===g?void 0:g.value)?null:{notSame:!0}}onSubmit(){this.registerForm.valid&&this.authService.register(this.registerForm.value).subscribe({next:t=>{alert("Cadastro realizado com sucesso!"),this.closeModal()},error:t=>{console.error("Erro no registro:",t),alert("Erro ao realizar o cadastro.")}})}closeModal(){this.modalCtrl.dismiss()}}return(e=a).\u0275fac=function(n){return new(n||e)(o.rXU(i.W3),o.rXU(r.ok),o.rXU(p.u))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-register-form"]],decls:32,vars:2,consts:[["slot","end"],[3,"click"],[1,"register-form"],[3,"submit","formGroup"],["position","floating"],["type","text","formControlName","name"],["type","email","formControlName","email"],["type","email","formControlName","confirmEmail"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"register-buttons"],["type","submit","expand","block",3,"disabled"]],template:function(n,t){1&n&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Cadastro"),o.k0s(),o.j41(4,"ion-buttons",0)(5,"ion-button",1),o.bIt("click",function(){return t.closeModal()}),o.EFF(6,"Fechar"),o.k0s()()()(),o.j41(7,"ion-content",2)(8,"form",3),o.bIt("submit",function(){return t.onSubmit()}),o.j41(9,"ion-item")(10,"ion-label",4),o.EFF(11,"Nome"),o.k0s(),o.nrm(12,"ion-input",5),o.k0s(),o.j41(13,"ion-item")(14,"ion-label",4),o.EFF(15,"E-mail"),o.k0s(),o.nrm(16,"ion-input",6),o.k0s(),o.j41(17,"ion-item")(18,"ion-label",4),o.EFF(19,"Confirmar E-mail"),o.k0s(),o.nrm(20,"ion-input",7),o.k0s(),o.j41(21,"ion-item")(22,"ion-label",4),o.EFF(23,"Senha"),o.k0s(),o.nrm(24,"ion-input",8),o.k0s(),o.j41(25,"ion-item")(26,"ion-label",4),o.EFF(27,"Confirmar Senha"),o.k0s(),o.nrm(28,"ion-input",9),o.k0s(),o.j41(29,"div",10)(30,"ion-button",11),o.EFF(31," Cadastrar "),o.k0s()()()()),2&n&&(o.R7$(8),o.Y8G("formGroup",t.registerForm),o.R7$(22),o.Y8G("disabled",t.registerForm.invalid))},dependencies:[i.Jm,i.QW,i.W9,i.eU,i.$w,i.uz,i.he,i.BC,i.ai,i.Gw,r.qT,r.BC,r.cb,r.j4,r.JD],styles:['@charset "UTF-8";.register-form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin:10px 0}.register-form[_ngcontent-%COMP%]   .register-buttons[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.register-form[_ngcontent-%COMP%]   .register-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: #3880ff;--color: #fff;border-radius:8px;font-size:16px}ion-header[_ngcontent-%COMP%]{--background: #f4f4f4}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--color: #222;font-weight:700}']}),a})();var f=l(980);function b(e,a){1&e&&o.nrm(0,"ion-spinner")}function F(e,a){if(1&e&&(o.j41(0,"ion-text",8)(1,"p"),o.EFF(2),o.k0s()()),2&e){const s=o.XpG();o.R7$(2),o.JRh(s.errorMessage)}}function M(e,a){if(1&e){const s=o.RV6();o.j41(0,"p",9),o.bIt("click",function(){o.eBV(s);const t=o.XpG();return o.Njj(t.onForgotPassword())}),o.EFF(1,"Esqueci minha senha"),o.k0s()}}let v=(()=>{var e;class a{constructor(n,t){this.authService=n,this.router=t,this.loginData={email:"",password:""},this.isPasswordRecoveryEnabled=!1,this.isLoading=!1,this.errorMessage=""}onSubmit(){this.loginData.email&&this.loginData.password?(this.isLoading=!0,this.errorMessage="",this.authService.login(this.loginData.email,this.loginData.password).pipe((0,f.j)(()=>this.isLoading=!1)).subscribe({next:()=>{this.router.navigate(["/home"])},error:n=>{console.error("Erro no login:",n),this.handleLoginError(n)}})):this.errorMessage="Preencha todos os campos obrigat\xf3rios!"}onForgotPassword(){this.loginData.email?(this.isLoading=!0,this.errorMessage="",this.authService.forgotPassword(this.loginData.email).pipe((0,f.j)(()=>this.isLoading=!1)).subscribe({next:()=>{alert("Um e-mail de redefini\xe7\xe3o de senha foi enviado.")},error:n=>{console.error("Erro ao solicitar redefini\xe7\xe3o:",n),this.errorMessage="Erro ao enviar e-mail. Verifique o endere\xe7o."}})):this.errorMessage="Adicione um e-mail v\xe1lido."}handleLoginError(n){this.errorMessage=401===n.status?"E-mail ou senha incorretos!":0===n.status?"Sem conex\xe3o com o servidor. Tente novamente mais tarde.":"Erro inesperado. Tente novamente."}}return(e=a).\u0275fac=function(n){return new(n||e)(o.rXU(p.u),o.rXU(c.Ix))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-login-form"]],decls:14,vars:6,consts:[[3,"ngSubmit"],["position","floating",1,"labelfont"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit","color","light",3,"disabled"],[4,"ngIf"],["color","danger",4,"ngIf"],["class","forgot-password",3,"click",4,"ngIf"],["color","danger"],[1,"forgot-password",3,"click"]],template:function(n,t){1&n&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.onSubmit()}),o.j41(1,"ion-item")(2,"ion-label",1),o.EFF(3,"E-mail"),o.k0s(),o.j41(4,"ion-input",2),o.mxI("ngModelChange",function(m){return o.DH7(t.loginData.email,m)||(t.loginData.email=m),m}),o.k0s()(),o.j41(5,"ion-item")(6,"ion-label",1),o.EFF(7,"Senha"),o.k0s(),o.j41(8,"ion-input",3),o.mxI("ngModelChange",function(m){return o.DH7(t.loginData.password,m)||(t.loginData.password=m),m}),o.k0s()(),o.j41(9,"ion-button",4),o.DNE(10,b,1,0,"ion-spinner",5),o.EFF(11," Entrar "),o.k0s(),o.DNE(12,F,3,1,"ion-text",6)(13,M,2,0,"p",7),o.k0s()),2&n&&(o.R7$(4),o.R50("ngModel",t.loginData.email),o.R7$(4),o.R50("ngModel",t.loginData.password),o.R7$(),o.Y8G("disabled",t.isLoading),o.R7$(),o.Y8G("ngIf",t.isLoading),o.R7$(2),o.Y8G("ngIf",t.errorMessage),o.R7$(),o.Y8G("ngIf",t.isPasswordRecoveryEnabled))},dependencies:[u.bT,r.qT,r.BC,r.cb,r.YS,r.vS,r.cV,i.Jm,i.$w,i.uz,i.he,i.w2,i.IO,i.Gw],styles:["form[_ngcontent-%COMP%]{margin-bottom:15px}ion-button[_ngcontent-%COMP%]{--ion-color-contrast: black !important;width:80%;margin-top:15px}.forgot-password[_ngcontent-%COMP%]{text-align:center;color:#007bff;cursor:pointer;margin-top:10px;text-decoration:underline}.forgot-password[_ngcontent-%COMP%]:hover{color:#0056b3}.labelfont[_ngcontent-%COMP%]{font-size:.8rem}"]}),a})();const P=[{path:"",component:(()=>{var e;class a{constructor(n){this.modalCtrl=n}openRegisterModal(){var n=this;return(0,h.A)(function*(){yield(yield n.modalCtrl.create({component:C,cssClass:"custom-modal"})).present()})()}}return(e=a).\u0275fac=function(n){return new(n||e)(o.rXU(i.W3))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-login"]],decls:19,vars:1,consts:[[1,"ion-padding","custom-background"],[1,"container"],["src","assets/logo.png","alt","Logo",1,"logo"],[1,"buttons-container"],[1,"register-button"],["expand","block","color","light",3,"click"],[1,"privacy-policy"],[3,"routerLink"]],template:function(n,t){1&n&&(o.j41(0,"ion-content",0)(1,"div",1),o.nrm(2,"img",2),o.k0s(),o.j41(3,"div",3)(4,"div"),o.nrm(5,"app-login-form"),o.k0s(),o.j41(6,"div",4)(7,"ion-button",5),o.bIt("click",function(){return t.openRegisterModal()}),o.EFF(8,"CADASTRO"),o.k0s()()(),o.j41(9,"div",6)(10,"p"),o.EFF(11," On Lab \xe9 um aplicativo independente desenvolvido para facilitar a reserva de laborat\xf3rios. "),o.k0s(),o.j41(12,"p"),o.EFF(13," Este aplicativo n\xe3o possui v\xednculo, afilia\xe7\xe3o ou endosso de nenhuma institui\xe7\xe3o p\xfablica. "),o.k0s(),o.j41(14,"p"),o.EFF(15," Veja mais informa\xe7\xf5es da nossa politica de privacidade "),o.j41(16,"a",7),o.EFF(17,"aqui"),o.k0s(),o.EFF(18,". "),o.k0s()()()),2&n&&(o.R7$(16),o.Y8G("routerLink","/privacidade"))},dependencies:[i.Jm,i.W9,i.oY,c.Wk,v],styles:["ion-content.custom-background[_ngcontent-%COMP%]{--background: #00569d}.container[_ngcontent-%COMP%]{text-align:center;margin-top:10%;margin-bottom:5%}.container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:150px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:20px}.modal-content[_ngcontent-%COMP%]{padding:20px}.modal-content[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{margin-bottom:15px}.buttons-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.register-button[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:center}.register-button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--ion-color-contrast: black !important;width:80%}.privacy-policy[_ngcontent-%COMP%]{margin-top:15px;text-align:center;font-size:12px;color:#fff}.privacy-policy[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}"]}),a})()}];let _=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[c.iI.forChild(P),c.iI]}),a})();var k=l(3887);let E=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[u.MD,r.YN,i.bv,_,k.G]}),a})()}}]);