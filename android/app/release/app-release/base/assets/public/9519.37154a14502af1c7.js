"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9519],{9519:(w,d,m)=>{m.r(d),m.d(d,{LoginPageModule:()=>k});var u=m(177),r=m(4341),i=m(4742),c=m(6766),f=m(467),o=m(4438),p=m(4796);let C=(()=>{var n;class s{constructor(e,t,l){this.modalCtrl=e,this.fb=t,this.authService=l,this.registerForm=this.fb.group({name:["",r.k0.required],email:["",[r.k0.required,r.k0.email]],confirmEmail:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required,r.k0.minLength(6)]],confirmPassword:["",[r.k0.required]]},{validators:this.checkPasswords})}checkPasswords(e){var t,l;return(null===(t=e.get("password"))||void 0===t?void 0:t.value)===(null===(l=e.get("confirmPassword"))||void 0===l?void 0:l.value)?null:{notSame:!0}}onSubmit(){this.registerForm.valid&&this.authService.register(this.registerForm.value).subscribe({next:t=>{alert("Cadastro realizado com sucesso!"),this.closeModal()},error:t=>{console.error("Erro no registro:",t),alert("Erro ao realizar o cadastro.")}})}closeModal(){this.modalCtrl.dismiss()}}return(n=s).\u0275fac=function(e){return new(e||n)(o.rXU(i.W3),o.rXU(r.ok),o.rXU(p.u))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-register-form"]],decls:32,vars:2,consts:[["slot","end"],[3,"click"],[1,"register-form"],[3,"submit","formGroup"],["position","floating"],["type","text","formControlName","name"],["type","email","formControlName","email"],["type","email","formControlName","confirmEmail"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"register-buttons"],["type","submit","expand","block",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Cadastro"),o.k0s(),o.j41(4,"ion-buttons",0)(5,"ion-button",1),o.bIt("click",function(){return t.closeModal()}),o.EFF(6,"Fechar"),o.k0s()()()(),o.j41(7,"ion-content",2)(8,"form",3),o.bIt("submit",function(){return t.onSubmit()}),o.j41(9,"ion-item")(10,"ion-label",4),o.EFF(11,"Nome"),o.k0s(),o.nrm(12,"ion-input",5),o.k0s(),o.j41(13,"ion-item")(14,"ion-label",4),o.EFF(15,"E-mail"),o.k0s(),o.nrm(16,"ion-input",6),o.k0s(),o.j41(17,"ion-item")(18,"ion-label",4),o.EFF(19,"Confirmar E-mail"),o.k0s(),o.nrm(20,"ion-input",7),o.k0s(),o.j41(21,"ion-item")(22,"ion-label",4),o.EFF(23,"Senha"),o.k0s(),o.nrm(24,"ion-input",8),o.k0s(),o.j41(25,"ion-item")(26,"ion-label",4),o.EFF(27,"Confirmar Senha"),o.k0s(),o.nrm(28,"ion-input",9),o.k0s(),o.j41(29,"div",10)(30,"ion-button",11),o.EFF(31," Cadastrar "),o.k0s()()()()),2&e&&(o.R7$(8),o.Y8G("formGroup",t.registerForm),o.R7$(22),o.Y8G("disabled",t.registerForm.invalid))},dependencies:[i.Jm,i.QW,i.W9,i.eU,i.$w,i.uz,i.he,i.BC,i.ai,i.Gw,r.qT,r.BC,r.cb,r.j4,r.JD],styles:['@charset "UTF-8";.register-form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin:10px 0}.register-form[_ngcontent-%COMP%]   .register-buttons[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.register-form[_ngcontent-%COMP%]   .register-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: #3880ff;--color: #fff;border-radius:8px;font-size:16px}ion-header[_ngcontent-%COMP%]{--background: #f4f4f4}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--color: #222;font-weight:700}']}),s})();function h(n,s){if(1&n&&(o.j41(0,"p",7),o.EFF(1),o.k0s()),2&n){const a=o.XpG();o.R7$(),o.JRh(a.errorMessage)}}function b(n,s){if(1&n){const a=o.RV6();o.j41(0,"p",8),o.bIt("click",function(){o.eBV(a);const t=o.XpG();return o.Njj(t.onForgotPassword())}),o.EFF(1,"Esqueci minha senha"),o.k0s()}}let M=(()=>{var n;class s{constructor(e,t){this.authService=e,this.router=t,this.loginData={email:"",password:""},this.isPasswordRecoveryEnabled=!1,this.errorMessage=""}onSubmit(){this.authService.login(this.loginData.email,this.loginData.password).subscribe({next:e=>{this.router.navigate(["/home"])},error:e=>{console.error("Erro no login:",e),this.errorMessage="Credenciais inv\xe1lidas. Tente novamente!"}})}onForgotPassword(){this.loginData.email?this.authService.forgotPassword(this.loginData.email).subscribe({next:()=>{this.errorMessage="",alert("Um e-mail de redefini\xe7\xe3o de senha foi enviado.")},error:e=>{console.error("Erro ao solicitar redefini\xe7\xe3o de senha:",e),this.errorMessage="Erro ao processar a solicita\xe7\xe3o. Tente novamente."}}):this.errorMessage="Adicione um e-mail v\xe1lido."}}return(n=s).\u0275fac=function(e){return new(e||n)(o.rXU(p.u),o.rXU(c.Ix))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-login-form"]],decls:13,vars:4,consts:[[3,"ngSubmit"],["position","floating",1,"labelfont"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit","color","light"],["class","error-message",4,"ngIf"],["class","forgot-password",3,"click",4,"ngIf"],[1,"error-message"],[1,"forgot-password",3,"click"]],template:function(e,t){1&e&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return t.onSubmit()}),o.j41(1,"ion-item")(2,"ion-label",1),o.EFF(3,"E-mail"),o.k0s(),o.j41(4,"ion-input",2),o.mxI("ngModelChange",function(g){return o.DH7(t.loginData.email,g)||(t.loginData.email=g),g}),o.k0s()(),o.j41(5,"ion-item")(6,"ion-label",1),o.EFF(7,"Senha"),o.k0s(),o.j41(8,"ion-input",3),o.mxI("ngModelChange",function(g){return o.DH7(t.loginData.password,g)||(t.loginData.password=g),g}),o.k0s()(),o.j41(9,"ion-button",4),o.EFF(10,"Entrar"),o.k0s(),o.DNE(11,h,2,1,"p",5)(12,b,2,0,"p",6),o.k0s()),2&e&&(o.R7$(4),o.R50("ngModel",t.loginData.email),o.R7$(4),o.R50("ngModel",t.loginData.password),o.R7$(3),o.Y8G("ngIf",t.errorMessage),o.R7$(),o.Y8G("ngIf",t.isPasswordRecoveryEnabled))},dependencies:[u.bT,r.qT,r.BC,r.cb,r.YS,r.vS,r.cV,i.Jm,i.$w,i.uz,i.he,i.Gw],styles:["form[_ngcontent-%COMP%]{margin-bottom:15px}ion-button[_ngcontent-%COMP%]{--ion-color-contrast: black !important;width:80%;margin-top:15px}.forgot-password[_ngcontent-%COMP%]{text-align:center;color:#007bff;cursor:pointer;margin-top:10px;text-decoration:underline}.forgot-password[_ngcontent-%COMP%]:hover{color:#0056b3}.labelfont[_ngcontent-%COMP%]{font-size:.8rem}"]}),s})();const F=[{path:"",component:(()=>{var n;class s{constructor(e){this.modalCtrl=e}openRegisterModal(){var e=this;return(0,f.A)(function*(){yield(yield e.modalCtrl.create({component:C,cssClass:"custom-modal"})).present()})()}}return(n=s).\u0275fac=function(e){return new(e||n)(o.rXU(i.W3))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-login"]],decls:9,vars:0,consts:[[1,"ion-padding","custom-background"],[1,"container"],["src","assets/logo.png","alt","Logo",1,"logo"],[1,"buttons-container"],[1,"register-button"],["expand","block","color","light",3,"click"]],template:function(e,t){1&e&&(o.j41(0,"ion-content",0)(1,"div",1),o.nrm(2,"img",2),o.k0s(),o.j41(3,"div",3)(4,"div"),o.nrm(5,"app-login-form"),o.k0s(),o.j41(6,"div",4)(7,"ion-button",5),o.bIt("click",function(){return t.openRegisterModal()}),o.EFF(8,"CADASTRO"),o.k0s()()()())},dependencies:[i.Jm,i.W9,M],styles:["ion-content.custom-background[_ngcontent-%COMP%]{--background: #00569d}.container[_ngcontent-%COMP%]{text-align:center;margin-top:10%;margin-bottom:5%}.container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:150px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:20px}.modal-content[_ngcontent-%COMP%]{padding:20px}.modal-content[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{margin-bottom:15px}.buttons-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.register-button[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:center}.register-button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--ion-color-contrast: black !important;width:80%}"]}),s})()}];let P=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[c.iI.forChild(F),c.iI]}),s})();var _=m(3887);let k=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[u.MD,r.YN,i.bv,P,_.G]}),s})()}}]);